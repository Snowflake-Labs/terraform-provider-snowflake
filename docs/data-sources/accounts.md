---
page_title: "snowflake_accounts Data Source - terraform-provider-snowflake"
subcategory: ""
description: |-
  Data source used to get details of filtered accounts. Filtering is aligned with the current possibilities for SHOW ACCOUNTS https://docs.snowflake.com/en/sql-reference/sql/show-accounts query. The results of SHOW are encapsulated in one output collection accounts.
---

# snowflake_accounts (Data Source)

Data source used to get details of filtered accounts. Filtering is aligned with the current possibilities for [SHOW ACCOUNTS](https://docs.snowflake.com/en/sql-reference/sql/show-accounts) query. The results of SHOW are encapsulated in one output collection `accounts`.

## Example Usage

```terraform
# Simple usage
data "snowflake_accounts" "simple" {
}

output "simple_output" {
  value = data.snowflake_accounts.simple.accounts
}

# Filtering (like)
data "snowflake_accounts" "like" {
  like = "account-name"
}

output "like_output" {
  value = data.snowflake_accounts.like.accounts
}

# With history
data "snowflake_accounts" "with_history" {
  with_history = true
}

output "with_history_output" {
  value = data.snowflake_accounts.like.accounts
}

# Ensure the number of accounts is equal to at least one element (with the use of postcondition)
data "snowflake_accounts" "assert_with_postcondition" {
  like = "account-name"
  lifecycle {
    postcondition {
      condition     = length(self.accounts) > 0
      error_message = "there should be at least one account"
    }
  }
}

# Ensure the number of accounts is equal to at exactly one element (with the use of check block)
check "account_check" {
  data "snowflake_accounts" "assert_with_check_block" {
    like = "account-name"
  }

  assert {
    condition     = length(data.snowflake_accounts.assert_with_check_block.accounts) == 1
    error_message = "accounts filtered by '${data.snowflake_accounts.assert_with_check_block.like}' returned ${length(data.snowflake_accounts.assert_with_check_block.accounts)} accounts where one was expected"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `like` (String) Filters the output with **case-insensitive** pattern, with support for SQL wildcard characters (`%` and `_`).
- `with_history` (Boolean) Includes dropped accounts that have not yet been deleted.

### Read-Only

- `accounts` (List of Object) Holds the aggregated output of all accounts details queries. (see [below for nested schema](#nestedatt--accounts))
- `id` (String) The ID of this resource.

<a id="nestedatt--accounts"></a>
### Nested Schema for `accounts`

Read-Only:

- `show_output` (List of Object) (see [below for nested schema](#nestedobjatt--accounts--show_output))

<a id="nestedobjatt--accounts--show_output"></a>
### Nested Schema for `accounts.show_output`

Read-Only:

- `account_locator` (String)
- `account_locator_url` (String)
- `account_name` (String)
- `account_old_url_last_used` (String)
- `account_old_url_saved_on` (String)
- `account_url` (String)
- `comment` (String)
- `consumption_billing_entity_name` (String)
- `created_on` (String)
- `dropped_on` (String)
- `edition` (String)
- `is_events_account` (Boolean)
- `is_org_admin` (Boolean)
- `is_organization_account` (Boolean)
- `managed_accounts` (Number)
- `marketplace_consumer_billing_entity_name` (String)
- `marketplace_provider_billing_entity_name` (String)
- `moved_on` (String)
- `moved_to_organization` (String)
- `old_account_url` (String)
- `organization_name` (String)
- `organization_old_url` (String)
- `organization_old_url_last_used` (String)
- `organization_old_url_saved_on` (String)
- `organization_url_expiration_on` (String)
- `region_group` (String)
- `restored_on` (String)
- `scheduled_deletion_time` (String)
- `snowflake_region` (String)
