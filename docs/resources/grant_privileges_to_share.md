---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "snowflake_grant_privileges_to_share Resource - terraform-provider-snowflake"
subcategory: ""
description: |-
  
---

!> **V1 release candidate** This resource was reworked and is a release candidate for the V1. We do not expect significant changes in it before the V1. We will welcome any feedback and adjust the resource if needed. Any errors reported will be resolved with a higher priority. We encourage checking this resource out before the V1 release. To migrate from older grant resources please follow the [migration guide](https://github.com/Snowflake-Labs/terraform-provider-snowflake/blob/main/MIGRATION_GUIDE.md#migration-from-old-grant-resources-to-new-ones).

# snowflake_grant_privileges_to_share (Resource)



## Example Usage

```terraform
resource "snowflake_share" "example" {
  name = "test"
}

resource "snowflake_database" "example" {
  # remember to define dependency between objects on a share, because shared objects have to be dropped before dropping share
  depends_on = [snowflake_share.example]
  name       = "test"
}

##################################
### on database
##################################

resource "snowflake_grant_privileges_to_share" "example" {
  to_share    = snowflake_share.example.name
  privileges  = ["USAGE"]
  on_database = snowflake_database.example.name
}

## ID: "\"share_name\"|USAGE|OnDatabase|\"database_name\""

##################################
### on schema
##################################

resource "snowflake_grant_privileges_to_share" "example" {
  to_share   = snowflake_share.example.name
  privileges = ["USAGE"]
  on_schema  = "${snowflake_database.example.name}.${snowflake_schema.example.name}"
}

## ID: "\"share_name\"|USAGE|OnSchema|\"database_name\".\"schema_name\""

##################################
### on table
##################################

resource "snowflake_grant_privileges_to_share" "example" {
  to_share   = snowflake_share.example.name
  privileges = ["SELECT"]
  on_table   = "${snowflake_database.example.name}.${snowflake_schema.example.name}.${snowflake_table.example.name}"
}

## ID: "\"share_name\"|SELECT|OnTable|\"database_name\".\"schema_name\".\"table_name\""

##################################
### on all tables in schema
##################################

resource "snowflake_grant_privileges_to_share" "example" {
  to_share                = snowflake_share.example.name
  privileges              = ["SELECT"]
  on_all_tables_in_schema = "${snowflake_database.example.name}.${snowflake_schema.example.name}"
}

## ID: "\"share_name\"|SELECT|OnAllTablesInSchema|\"database_name\".\"schema_name\""

##################################
### on tag
##################################

resource "snowflake_grant_privileges_to_share" "example" {
  to_share   = snowflake_share.example.name
  privileges = ["READ"]
  on_tag     = "${snowflake_database.example.name}.${snowflake_schema.example.name}.${snowflake_tag.example.name}"
}

## ID: "\"share_name\"|READ|OnTag|\"database_name\".\"schema_name\".\"tag_name\""

##################################
### on view
##################################

resource "snowflake_grant_privileges_to_share" "example" {
  to_share   = snowflake_share.example.name
  privileges = ["SELECT"]
  on_view    = "${snowflake_database.example.name}.${snowflake_schema.example.name}.${snowflake_view.example.name}"
}

## ID: "\"share_name\"|SELECT|OnView|\"database_name\".\"schema_name\".\"view_name\""
```
-> **Note** Instead of using fully_qualified_name, you can reference objects managed outside Terraform by constructing a correct ID, consult [identifiers guide](https://registry.terraform.io/providers/Snowflake-Labs/snowflake/latest/docs/guides/identifiers#new-computed-fully-qualified-name-field-in-resources).
<!-- TODO(SNOW-1634854): include an example showing both methods-->

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `privileges` (Set of String) The privileges to grant on the share. See available list of privileges: https://docs.snowflake.com/en/sql-reference/sql/grant-privilege-share#syntax
- `to_share` (String) The fully qualified name of the share on which privileges will be granted.

### Optional

- `on_all_tables_in_schema` (String) The fully qualified identifier for the schema for which the specified privilege will be granted for all tables.
- `on_database` (String) The fully qualified name of the database on which privileges will be granted.
- `on_function` (String) The fully qualified name of the function on which privileges will be granted.
- `on_schema` (String) The fully qualified name of the schema on which privileges will be granted.
- `on_table` (String) The fully qualified name of the table on which privileges will be granted.
- `on_tag` (String) The fully qualified name of the tag on which privileges will be granted.
- `on_view` (String) The fully qualified name of the view on which privileges will be granted.

### Read-Only

- `id` (String) The ID of this resource.

## Known limitations
- Setting the `CREATE SNOWFLAKE.ML.ANOMALY_DETECTION` or `CREATE SNOWFLAKE.ML.FORECAST` privileges on schema results in a permadiff because of the probably incorrect Snowflake's behavior of `SHOW GRANTS ON <object_type> <object_name>`. More in the [comment](https://github.com/Snowflake-Labs/terraform-provider-snowflake/issues/2651#issuecomment-2022634952).

## Import

~> **Note** All the ..._name parts should be fully qualified names, e.g. for database object it is `"<database_name>"."<object_name>"`

Import is supported using the following syntax:

`terraform import "<share_name>|<privileges>|<grant_type>|<grant_identifier>"`

where:
- share_name - fully qualified identifier
- privileges - list of privileges, comma separated. See the available privileges for given object types: https://docs.snowflake.com/en/sql-reference/sql/grant-privilege-share#syntax
- grant_type - enum
- grant_identifier - fully qualified identifier

### OnDatabase
`terraform import "<share_name>|<privileges>|OnDatabase|<database_name>"`

### OnSchema
`terraform import "<share_name>|<privileges>|OnSchema|<database_name>.<schema_name>"`

### OnTable
`terraform import "<share_name>|<privileges>|OnTable|<database_name>.<schema_name>.<table_name>"`

### OnSchema
`terraform import "<share_name>|<privileges>|OnAllTablesInSchema|<database_name>.<schema_name>"`

### OnTag
`terraform import "<share_name>|<privileges>|OnTag|<database_name>.<schema_name>.<tag_name>"`

### OnView
`terraform import "<share_name>|<privileges>|OnView|<database_name>.<schema_name>.<view_name>"`
