---
page_title: "snowflake_external_function Resource - terraform-provider-snowflake"
subcategory: "Preview"
description: |-
  
---

!> **Caution: Preview Feature** This feature is considered a preview feature in the provider, regardless of the state of the resource in Snowflake. We do not guarantee its stability. It will be reworked and marked as a stable feature in future releases. Breaking changes are expected, even without bumping the major version. To use this feature, add the relevant feature name to `preview_features_enabled` field in the [provider configuration](https://registry.terraform.io/providers/snowflakedb/snowflake/latest/docs#schema). Please always refer to the [Getting Help](https://github.com/snowflakedb/terraform-provider-snowflake?tab=readme-ov-file#getting-help) section in our Github repo to best determine how to get help for your questions.

!> **Sensitive values** This resource's `context_headers` and `header` fields are not marked as sensitive in the provider. Ensure that no personal data, sensitive data, export-controlled data, or other regulated data is entered as metadata when using the provider. If you use one of these fields, they may be present in logs, so ensure that the provider logs are properly restricted. For more information, see [Sensitive values limitations](../#sensitive-values-limitations) and [Metadata fields in Snowflake](https://docs.snowflake.com/en/sql-reference/metadata).

# snowflake_external_function (Resource)



## Example Usage

-> **Note** Instead of using fully_qualified_name, you can reference objects managed outside Terraform by constructing a correct ID, consult [identifiers guide](../guides/identifiers_rework_design_decisions#new-computed-fully-qualified-name-field-in-resources).
<!-- TODO(SNOW-1634854): include an example showing both methods-->

```terraform
resource "snowflake_external_function" "test_ext_func" {
  name     = "my_function"
  database = "my_test_db"
  schema   = "my_test_schema"
  arg {
    name = "arg1"
    type = "varchar"
  }
  arg {
    name = "arg2"
    type = "varchar"
  }
  return_type               = "variant"
  return_behavior           = "IMMUTABLE"
  api_integration           = "api_integration_name"
  url_of_proxy_and_resource = "https://123456.execute-api.us-west-2.amazonaws.com/prod/test_func"
}
```

-> **Note** If a field has a default value, it is shown next to the type in the schema.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `api_integration` (String) The name of the API integration object that should be used to authenticate the call to the proxy service.
- `database` (String) The database in which to create the external function.
- `name` (String) Specifies the identifier for the external function. The identifier can contain the schema name and database name, as well as the function name. The function's signature (name and argument data types) must be unique within the schema.
- `return_behavior` (String) Specifies the behavior of the function when returning results
- `return_type` (String) Specifies the data type returned by the external function.
- `schema` (String) The schema in which to create the external function.
- `url_of_proxy_and_resource` (String) This is the invocation URL of the proxy service and resource through which Snowflake calls the remote service.

### Optional

- `arg` (Block List) Specifies the arguments/inputs for the external function. These should correspond to the arguments that the remote service expects. (see [below for nested schema](#nestedblock--arg))
- `comment` (String) (Default: `user-defined function`) A description of the external function.
- `compression` (String) (Default: `AUTO`) If specified, the JSON payload is compressed when sent from Snowflake to the proxy service, and when sent back from the proxy service to Snowflake.
- `context_headers` (List of String) Binds Snowflake context function results to HTTP headers.
- `header` (Block Set) Allows users to specify key-value metadata that is sent with every request as HTTP headers. (see [below for nested schema](#nestedblock--header))
- `max_batch_rows` (Number) This specifies the maximum number of rows in each batch sent to the proxy service.
- `null_input_behavior` (String) (Default: `CALLED ON NULL INPUT`) Specifies the behavior of the external function when called with null inputs.
- `request_translator` (String) This specifies the name of the request translator function
- `response_translator` (String) This specifies the name of the response translator function.
- `return_null_allowed` (Boolean) (Default: `true`) Indicates whether the function can return NULL values (true) or must return only NON-NULL values (false).
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `created_on` (String) Date and time when the external function was created.
- `fully_qualified_name` (String) Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
- `id` (String) The ID of this resource.

<a id="nestedblock--arg"></a>
### Nested Schema for `arg`

Required:

- `name` (String) Argument name
- `type` (String) Argument type, e.g. VARCHAR


<a id="nestedblock--header"></a>
### Nested Schema for `header`

Required:

- `name` (String) Header name
- `value` (String) Header value


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `read` (String)
- `update` (String)

## Import

Import is supported using the following syntax:

```shell
# format is <database_name>.<schema_name>.<external_function_name>(<arg types, separated with ','>)
terraform import snowflake_external_function.example 'dbName.schemaName.externalFunctionName(varchar, varchar, varchar)'
```
