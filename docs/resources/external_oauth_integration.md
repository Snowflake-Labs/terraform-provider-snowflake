---
page_title: "snowflake_external_oauth_integration Resource - terraform-provider-snowflake"
subcategory: ""
description: |-
  An External OAuth security integration allows a client to use a third-party authorization server to obtain the access tokens needed to interact with Snowflake.
---

# snowflake_external_oauth_integration (Resource)

An External OAuth security integration allows a client to use a third-party authorization server to obtain the access tokens needed to interact with Snowflake.

## Example Usage

```terraform
resource "snowflake_external_oauth_integration" "azure" {
  name                             = "AZURE_POWERBI"
  type                             = "AZURE"
  enabled                          = true
  issuer                           = "https://sts.windows.net/00000000-0000-0000-0000-000000000000"
  snowflake_user_mapping_attribute = "LOGIN_NAME"
  jws_keys_urls                    = ["https://login.windows.net/common/discovery/keys"]
  audience_urls                    = ["https://analysis.windows.net/powerbi/connector/Snowflake"]
  token_user_mapping_claims        = ["upn"]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) Specifies whether to initiate operation of the integration or suspend it.
- `issuer` (String) Specifies the URL to define the OAuth 2.0 authorization server.
- `name` (String) Specifies the name of the External Oath integration. This name follows the rules for Object Identifiers. The name should be unique among security integrations in your account.
- `snowflake_user_mapping_attribute` (String) Indicates which Snowflake user record attribute should be used to map the access token to a Snowflake user record.
- `token_user_mapping_claims` (Set of String) Specifies the access token claim or claims that can be used to map the access token to a Snowflake user record.
- `type` (String) Specifies the OAuth 2.0 authorization server to be Okta, Microsoft Azure AD, Ping Identity PingFederate, or a Custom OAuth 2.0 authorization server.

### Optional

- `allowed_roles` (Set of String) Specifies the list of roles that the client can set as the primary role.
- `any_role_mode` (String) Specifies whether the OAuth client or user can use a role that is not defined in the OAuth access token.
- `audience_urls` (Set of String) Specifies additional values that can be used for the access token's audience validation on top of using the Customer's Snowflake Account URL
- `blocked_roles` (Set of String) Specifies the list of roles that a client cannot set as the primary role. Do not include ACCOUNTADMIN, ORGADMIN or SECURITYADMIN as they are already implicitly enforced and will cause in-place updates.
- `comment` (String) Specifies a comment for the OAuth integration.
- `jws_keys_urls` (Set of String) Specifies the endpoint or a list of endpoints from which to download public keys or certificates to validate an External OAuth access token. The maximum number of URLs that can be specified in the list is 3.
- `rsa_public_key` (String) Specifies a Base64-encoded RSA public key, without the -----BEGIN PUBLIC KEY----- and -----END PUBLIC KEY----- headers.
- `rsa_public_key_2` (String) Specifies a second RSA public key, without the -----BEGIN PUBLIC KEY----- and -----END PUBLIC KEY----- headers. Used for key rotation.
- `scope_delimiter` (String) Specifies the scope delimiter in the authorization token.
- `scope_mapping_attribute` (String) Specifies the access token claim to map the access token to an account role.

### Read-Only

- `created_on` (String) Date and time when the External OAUTH integration was created.
- `id` (String) The ID of this resource.

## Import

Import is supported using the following syntax:

```shell
terraform import snowflake_external_oauth_integration.example name
```
