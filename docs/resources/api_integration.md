---
page_title: "snowflake_api_integration Resource - terraform-provider-snowflake"
subcategory: "Preview"
description: |-
  
---

!> **Caution: Preview Feature** This feature is considered a preview feature in the provider, regardless of the state of the resource in Snowflake. We do not guarantee its stability. It will be reworked and marked as a stable feature in future releases. Breaking changes are expected, even without bumping the major version. To use this feature, add the relevant feature name to `preview_features_enabled field` in the [provider configuration](https://registry.terraform.io/providers/Snowflake-Labs/snowflake/latest/docs#schema). Please always refer to the [Getting Help](https://github.com/Snowflake-Labs/terraform-provider-snowflake?tab=readme-ov-file#getting-help) section in our Github repo to best determine how to get help for your questions.

# snowflake_api_integration (Resource)



## Example Usage

```terraform
resource "snowflake_api_integration" "aws" {
  name                 = "aws_integration"
  api_provider         = "aws_api_gateway"
  api_aws_role_arn     = "arn:aws:iam::000000000001:/role/test"
  api_allowed_prefixes = ["https://123456.execute-api.us-west-2.amazonaws.com/prod/"]
  enabled              = true
}

resource "snowflake_api_integration" "azure" {
  name                    = "azure_integration"
  api_provider            = "azure_api_management"
  azure_tenant_id         = "00000000-0000-0000-0000-000000000000"
  azure_ad_application_id = "11111111-1111-1111-1111-111111111111"
  api_allowed_prefixes    = ["https://apim-hello-world.azure-api.net/"]
  enabled                 = true
}

resource "snowflake_api_integration" "gcp" {
  name                 = "gcp_integration"
  api_provider         = "google_api_gateway"
  google_audience      = "api-gateway-id-123456.apigateway.gcp-project.cloud.goog"
  api_allowed_prefixes = ["https://gateway-id-123456.uc.gateway.dev/"]
  enabled              = true
}
```

-> **Note** Instead of using fully_qualified_name, you can reference objects managed outside Terraform by constructing a correct ID, consult [identifiers guide](../guides/identifiers_rework_design_decisions#new-computed-fully-qualified-name-field-in-resources).
<!-- TODO(SNOW-1634854): include an example showing both methods-->

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `api_allowed_prefixes` (List of String) Explicitly limits external functions that use the integration to reference one or more HTTPS proxy service endpoints and resources within those proxies.
- `api_provider` (String) Specifies the HTTPS proxy service type.
- `name` (String) Specifies the name of the API integration. This name follows the rules for Object Identifiers. The name should be unique among api integrations in your account.

### Optional

- `api_aws_role_arn` (String) ARN of a cloud platform role.
- `api_blocked_prefixes` (List of String) Lists the endpoints and resources in the HTTPS proxy service that are not allowed to be called from Snowflake.
- `api_gcp_service_account` (String) The service account used for communication with the Google API Gateway.
- `api_key` (String, Sensitive) The API key (also called a “subscription key”).
- `azure_ad_application_id` (String) The 'Application (client) id' of the Azure AD app for your remote service.
- `azure_tenant_id` (String) Specifies the ID for your Office 365 tenant that all Azure API Management instances belong to.
- `comment` (String)
- `enabled` (Boolean) Specifies whether this API integration is enabled or disabled. If the API integration is disabled, any external function that relies on it will not work.
- `google_audience` (String) The audience claim when generating the JWT (JSON Web Token) to authenticate to the Google API Gateway.

### Read-Only

- `api_aws_external_id` (String) The external ID that Snowflake will use when assuming the AWS role.
- `api_aws_iam_user_arn` (String) The Snowflake user that will attempt to assume the AWS role.
- `azure_consent_url` (String)
- `azure_multi_tenant_app_name` (String)
- `created_on` (String) Date and time when the API integration was created.
- `fully_qualified_name` (String) Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
- `id` (String) The ID of this resource.

## Import

Import is supported using the following syntax:

```shell
terraform import snowflake_api_integration.example name
```
